# MCP Playwright Test Server

一个基于 Model Context Protocol (MCP)的 Playwright 测试自动化服务器。此服务器允许 AI 助手通过 MCP 协议自动生成和执行 Web 应用的 UI 和 API 测试。

## 功能特点

- 🔄 自动获取项目代码（支持 Git 仓库或本地项目）
- 🤖 使用 Playwright 设置测试环境
- ✏️ 根据需求文档或文本生成测试用例
- 🧪 执行 UI 和 API 测试
- 📊 生成详细的测试报告
- 🔍 捕获并分析网络请求和控制台日志
- 💬 支持通过 Model Context Protocol 与 AI 助手集成

## 安装

```bash
# 使用npm
npm install mcp-playwright-test

# 使用yarn
yarn add mcp-playwright-test

# 使用pnpm
pnpm add mcp-playwright-test
```

## 快速开始

```javascript
import createMCPServer from "mcp-playwright-test";

// 创建并启动MCP服务器
const server = createMCPServer({
  port: 8931, // 默认MCP端口
  transport: "http", // 使用HTTP传输
});

console.log("MCP Playwright测试服务器已在端口8931上启动");
```

## 可用工具

MCP 服务器提供以下工具：

1. **clone-repository**: 克隆 Git 仓库
2. **use-local-project**: 使用本地项目
3. **launch-browser**: 启动浏览器进行测试
4. **generate-tests-from-text**: 从文本需求生成测试
5. **generate-tests-from-document**: 从文档生成测试
6. **run-tests**: 运行测试套件
7. **api-test**: 生成并运行 API 测试

## 可用资源

MCP 服务器提供以下资源：

1. **reports**: 获取测试执行报告
2. **api-specs**: 检索 API 规范
3. **test-cases**: 检索测试用例

## 开发

```bash
# 安装依赖
pnpm install

# 构建项目
pnpm build

# 启动开发服务器
pnpm dev

# 运行测试
pnpm test
```

## 许可证

MIT
