# Playwright MCP Test

基于模型上下文协议（MCP）的Playwright测试自动化工具。

## 功能特性

- **Git仓库集成**：通过Git URL自动获取代码，支持凭据认证
- **自动化测试生成**：基于文本需求或文档自动生成UI和API测试用例
- **浏览器自动化**：使用Microsoft Playwright进行UI测试
- **网络监控**：捕获浏览器中的网络请求和控制台日志
- **错误分析**：生成前端和后端错误的详细报告
- **API测试**：支持基于OpenAPI/Swagger规范的API测试
- **MCP集成**：提供MCP服务器接口，支持AI助手集成

## 安装

```
npm install
```

## 使用方法

通过MCP服务器使用该工具：

```
npm run dev
```

或者导入服务模块直接使用：

```typescript
import {
  GitService,
  PlaywrightService,
  TestGeneratorService,
  TestExecutionService,
  ApiTestingService
} from 'playwright-mcp-test';

// 创建服务实例
const gitService = new GitService();
const playwrightService = new PlaywrightService();
const testExecutionService = new TestExecutionService(playwrightService);

// 克隆仓库
await gitService.cloneRepository('https://github.com/user/repo');

// 启动浏览器
await playwrightService.launchBrowser();

// 生成测试用例
const testGenerator = new TestGeneratorService();
const testSuiteId = await testGenerator.generateFromText('测试需求描述', 'ui');

// 执行测试
const reportId = await testExecutionService.runTests(testSuiteId);

// 生成错误报告
const errorReportId = await testExecutionService.generateErrorReport();
```

## MCP工具

该项目支持以下MCP工具：

- `clone-repository`：克隆Git仓库
- `use-local-project`：使用本地项目路径
- `launch-browser`：启动浏览器
- `generate-tests-from-text`：从文本生成测试用例
- `generate-tests-from-document`：从文档生成测试用例
- `run-tests`：运行测试用例
- `get-console-logs`：获取控制台日志
- `get-network-requests`：获取网络请求
- `generate-error-report`：生成错误报告
- `generate-api-tests-from-spec`：从API规范生成API测试
- `mock-api-endpoint`：模拟API端点
- `run-api-tests`：运行API测试
- `close-browser`：关闭浏览器

## 许可证

MIT
